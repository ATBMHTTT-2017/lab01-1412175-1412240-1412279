BÁO CÁO QUÁ TRÌNH THỰC HIỆN

YÊU CẦU SỐ 7.3: Trưởng chi nhánh Hà Nội được phép truy xuất dữ liệu 
		của chi nhánh Hà Nội và tất cả các chi nhánh khác.



Sinh viên thực hiện: 1412279 - Trần Đình Lâm


NỘI DUNG QUÁ TRÌNH THỰC HIỆN

1. Cách giải quyết:
	- Tạo các Label cho mỗi dòng dữ liệu của dự án với chung 1 level,
	  Group tương ứng với 3 Chi nhánh khác nhau là Hà Nội, TPHCM, Đà Nẵng.
	  Trong đó Hà Nội là Parent Group của TPHCM và Đà Nẵng
	- Vì theo thuật toán đọc, ta cần phải gán nhãn HN cho trưởng chi nhánh Hà Nội
	   để thỏa điều kiện kiểm tra Groups dành cho 
	  trưởng chi nhánh Hà Nội

2. Các bước thực hiện:
	- Cấp các quyền cần thiết cho người quản trị, Unlock tài khoản "lbacsys"
	- Tạo hàm chính sách ứng với cột lưu trữ là "olscolumn0"
		begin
		SA_SYSDBA.CREATE_POLICY (
		policy_name => 'my_ols',
		column_name => 'olscolumn0'
		);
		end;
	- Sau khi chính sách được khai báo, một quyền dba sẽ tự khởi tạo, ta cấp quyền này
	  cho người quản trị: GRANT my_ols_dba TO quantri;
	- Gán tạm thời chính sách này cho TABLE DUAN, nội dung chính sách để rỗng.
	- Định nghĩa các thành phần của Label cần dùng, bao gồm 1 Level và 3 Groups:
		+ level : TT - Thông thường
		+ Group: HN - Hà Nội, TPHCM- TPHCMS, DN - Đà Nẵng
	- Định nghĩa các Label cần dùng: 
		TT: HN
		TT: TPHCM
		TT: DN
	- Gán nhãn cho từng dòng dữ liệu trong bảng DUAN, ta dùng câu truy vấn UPDATE
	- Gán nhãn cho các trưởng chi nhánh sao cho phù hợp, trong đó "nv01" là trưởng chi nhánh
	  Hà Nội nên ta gán nhãn "TT:HN", "nv02" là "TT:TPHCM", "nv05" là "TT:DN".
	- Re_Apply lại chính sách, có điều chỉnh tùy chọn là "READ_CONTROL,WRITE_CONTROL"
			
3. Kiểm tra kết quả:
	- Dùng 3 user như trên để tiến hành Select bảng DUAN
	  Kết quả: trưởng chi nhánh Hà Nội đọc được hết các chi nhánh khác
		   Trưởng chi nhánh TPHCM và Đà Nẵng chỉ đọc được dự án của chi nhánh mình quản lí.


4. File script mô tả: 141279_Policy_7.3.sql